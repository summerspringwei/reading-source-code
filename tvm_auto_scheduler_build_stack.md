#0  tvm::te::TensorToBufferMapper::GetBuffer (this=0x7fff6b4ff370, tensor=..., storage_scope=..., allow_alloc=true)
    at /home2/xiachunwei/Software/tvm/src/te/schedule/schedule_postproc_to_primfunc.cc:127
#1  0x00007ffe9fa1ef31 in tvm::te::TensorToBufferMapper::GetOrAllocBuffer (this=0x7fff6b4ff370, tensor=..., storage_scope=...)
    at /home2/xiachunwei/Software/tvm/src/te/schedule/schedule_postproc_to_primfunc.cc:123
#2  0x00007ffe9fa1e7f7 in tvm::te::TensorToBufferMapper::VisitStmt_ (this=0x7fff6b4ff370, op=0x7ffcfc049380)
    at /home2/xiachunwei/Software/tvm/src/te/schedule/schedule_postproc_to_primfunc.cc:95
#3  0x00007ffe9f3543c1 in tvm::tir::StmtFunctor<tvm::tir::Stmt (tvm::tir::Stmt const&)>::InitVTable()::{lambda(tvm::runtime::ObjectRef const&, tvm::tir::StmtFunctor<tvm::tir::Stmt (tvm::tir::Stmt const&)>*)#10}::operator()(tvm::runtime::ObjectRef const&, tvm::tir::StmtFunctor<tvm::tir::Stmt (tvm::tir::Stmt const&)>*) const (__closure=0x0, n=..., self=0x7fff6b4ff370)
    at /home2/xiachunwei/Software/tvm/include/tvm/tir/stmt_functor.h:119
#4  0x00007ffe9f35441c in tvm::tir::StmtFunctor<tvm::tir::Stmt (tvm::tir::Stmt const&)>::InitVTable()::{lambda(tvm::runtime::ObjectRef const&, tvm::tir::StmtFunctor<tvm::tir::Stmt (tvm::tir::Stmt const&)>*)#10}::_FUN(tvm::runtime::ObjectRef const&, tvm::tir::StmtFunctor<tvm::tir::Stmt (tvm::tir::Stmt const&)>*) ()
    at /home2/xiachunwei/Software/tvm/include/tvm/tir/stmt_functor.h:119
#5  0x00007ffe9f354e3a in tvm::NodeFunctor<tvm::tir::Stmt (tvm::runtime::ObjectRef const&, tvm::tir::StmtFunctor<tvm::tir::Stmt (tvm::tir::Stmt const&)>*)>::operator()(tvm::runtime::ObjectRef const&, tvm::tir::StmtFunctor<tvm::tir::Stmt (tvm::tir::Stmt const&)>*) const (
    this=0x7ffea50dc300 <tvm::tir::StmtFunctor<tvm::tir::Stmt (tvm::tir::Stmt const&)>::VisitStmt(tvm::tir::Stmt const&)::vtable>, n=..., args#0=0x7fff6b4ff370)
    at /home2/xiachunwei/Software/tvm/include/tvm/node/functor.h:97
#6  0x00007ffe9f350f68 in tvm::tir::StmtFunctor<tvm::tir::Stmt (tvm::tir::Stmt const&)>::VisitStmt(tvm::tir::Stmt const&) (this=0x7fff6b4ff370, n=...)
    at /home2/xiachunwei/Software/tvm/include/tvm/tir/stmt_functor.h:81
#7  0x00007ffe9f34bde9 in tvm::tir::StmtMutator::VisitStmt (this=0x7fff6b4ff370, stmt=...) at /home2/xiachunwei/Software/tvm/include/tvm/tir/stmt_functor.h:240
#8  0x00007ffe9f96e06e in tvm::tir::StmtMutator::operator() (this=0x7fff6b4ff370, stmt=...) at /home2/xiachunwei/Software/tvm/include/tvm/tir/stmt_functor.h:186
#9  0x00007ffe9fa1d585 in tvm::te::SchedulePostProcToPrimFunc (arg_list=..., body=..., extern_buffer_opt=...)
    at /home2/xiachunwei/Software/tvm/src/te/schedule/schedule_postproc_to_primfunc.cc:172
#10 0x00007ffe9f64248b in tvm::ScheduleToModule (sch=..., args=..., name="main", binds=std::unordered_map with 0 elements)
    at /home2/xiachunwei/Software/tvm/src/driver/driver_api.cc:309
#11 0x00007ffe9f5299e6 in tvm::auto_scheduler::GetPerStoreFeaturesWorkerFunc (task=..., state=..., max_n_bufs=5, feature=0x5555575191d8, error_ct=0x7fffffff89cc)
    at /home2/xiachunwei/Software/tvm/src/auto_scheduler/feature.cc:1277
#12 0x00007ffe9f52a97a in tvm::auto_scheduler::<lambda(int)>::operator()(int) const (__closure=0x7ffd74000b20, i=7) at /home2/xiachunwei/Software/tvm/src/auto_scheduler/feature.cc:1328
#13 0x00007ffe9f52e251 in std::_Function_handler<void(int), tvm::auto_scheduler::GetPerStoreFeaturesFromStates(const tvm::runtime::Array<tvm::auto_scheduler::State>&, const tvm::auto_scheduler::SearchTask&, int, int, std::vector<std::vector<float> >*)::<lambda(int)> >::_M_invoke(const std::_Any_data &, int &&) (__functor=..., __args#0=@0x7fff6b4ff794: 7)
    at /usr/include/c++/7/bits/std_function.h:316
#14 0x00007ffe9f353250 in std::function<void (int)>::operator()(int) const (this=0x5555575b6d88, __args#0=7) at /usr/include/c++/7/bits/std_function.h:706
#15 0x00007ffe9f8e34cc in tvm::support::<lambda(const std::vector<int, std::allocator<int> >&, const std::function<void(int)>&)>::operator()(const std::vector<int, std::allocator<int> > &, const std::function<void(int)> &) const (__closure=0x55555759b0d8, run_partition=std::vector of length 1, capacity 1 = {...}, f=...)
    at /home2/xiachunwei/Software/tvm/src/support/parallel_for.cc:72
#16 0x00007ffe9f8e6d48 in std::__invoke_impl<void, tvm::support::parallel_for(int, int, const std::function<void(int)>&, int, tvm::support::PartitionerFuncType)::<lambda(const std::vector<int>&, const std::function<void(int)>&)>&, const std::vector<int, std::allocator<int> >&, const std::function<void(int)>&>(std::__invoke_other, tvm::support::<lambda(const std::vector<int, std::allocator<int> >&, const std::function<void(int)>&)> &) (__f=...) at /usr/include/c++/7/bits/invoke.h:60
#17 0x00007ffe9f8e6661 in std::__invoke<tvm::support::parallel_for(int, int, const std::function<void(int)>&, int, tvm::support::PartitionerFuncType)::<lambda(const std::vector<int>&, const std::function<void(int)>&)>&, const std::vector<int, std::allocator<int> >&, const std::function<void(int)>&>(tvm::support::<lambda(const std::vector<int, std::allocator<int> >&, const std::function<void(int)>&)> &) (__fn=...) at /usr/include/c++/7/bits/invoke.h:95
#18 0x00007ffe9f8e5fc4 in std::__future_base::_Task_state<tvm::support::parallel_for(int, int, const std::function<void(int)>&, int, tvm::support::PartitionerFuncType)::<lambda(const std::vector<int, std::allocator<int> >&, const std::function<void(int)>&)>, std::allocator<int>, void(const std::vector<int, std::allocator<int> >&, const std::function<void(int)>&)>::<lambda()>::operator()(void) const (__closure=0x7fff6b4ffce0) at /usr/include/c++/7/future:1421
#19 0x00007ffe9f8e75c6 in std::__future_base::_Task_setter<std::unique_ptr<std::__future_base::_Result<void>, std::__future_base::_Result_base::_Deleter>, std::__future_base::_Task_state<_Fn, _Alloc, _Res(_Args ...)>::_M_run(_Args&& ...) [with _Fn = tvm::support::parallel_for(int, int, const std::function<void(int)>&, int, tvm::support::PartitionerFuncType)::<lambda(const std::vector<int>&, const std::function<void(int)>&)>; _Alloc = std::allocator<int>; _Res = void; _Args = {const std::vector<int, std::allocator<int> >&, const std::function<void(int)>&}]::<lambda()>, void>::operator()(void) const (this=0x7fff6b4ffd00) at /usr/include/c++/7/future:1362
#20 0x00007ffe9f8e6e00 in std::_Function_handler<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter>(), std::__future_base::_Task_setter<std::unique_ptr<std::__future_base::_Result<void>, std::__future_base::_Result_base::_Deleter>, std::__future_base::_Task_state<_Fn, _Alloc, _Res(_Args ...)>::_M_run(_Args&& ...) [with _Fn = tvm::support::parallel_for(int, int, const std::function<void(int)>&, int, tvm::support::PartitionerFuncType)::<lambda(const std::vector<int>&, const std::function<void(int)>&)>; _Alloc = std::allocator<int>; _Res = void; _Args = {const std::vector<int, std::allocator<int> >&, const std::function<void(int)>&}]::<lambda()>, void> >::_M_invoke(const std::_Any_data &) (
    __functor=...) at /usr/include/c++/7/bits/std_function.h:302
#21 0x00007ffe9f8e92e8 in std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>::operator()() const (this=0x7fff6b4ffd00)
    at /usr/include/c++/7/bits/std_function.h:706
#22 0x00007ffe9f8e89c2 in std::__future_base::_State_baseV2::_M_do_set(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*) (this=0x55555759b0b0, __f=0x7fff6b4ffd00, __did_set=0x7fff6b4ffc4f) at /usr/include/c++/7/future:561
#23 0x00007ffe9f8ec38b in std::__invoke_impl<void, void (std::__future_base::_State_baseV2::*)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*>(std::__invoke_memfun_deref, void (std::__future_base::_State_baseV2::*&&)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*&&, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*&&, bool*&&) (__f=
    @0x7fff6b4ffc90: (void (std::__future_base::_State_baseV2::*)(std::__future_base::_State_baseV2 * const, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter>()> *, bool *)) 0x7ffe9f8e898c <std::__future_base::_State_baseV2::_M_do_set(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*)>, __t=@0x7fff6b4ffc60: 0x55555759b0b0) at /usr/include/c++/7/bits/invoke.h:73
#24 0x00007ffe9f8ea892 in std::__invoke<void (std::__future_base::_State_baseV2::*)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*>(void (s---Type <return> to continue, or q <return> to quit---
td::__future_base::_State_baseV2::*&&)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*&&, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*&&, bool*&&) (__fn=
    @0x7fff6b4ffc90: (void (std::__future_base::_State_baseV2::*)(std::__future_base::_State_baseV2 * const, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter>()> *, bool *)) 0x7ffe9f8e898c <std::__future_base::_State_baseV2::_M_do_set(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*)>) at /usr/include/c++/7/bits/invoke.h:95
#25 0x00007ffe9f8e8e68 in void std::call_once<void (std::__future_base::_State_baseV2::*)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*>(std::once_flag&, void (std::__future_base::_State_baseV2::*&&)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*&&, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*&&, bool*&&)::{lambda()#1}::operator()() const (__closure=0x7fff6b4ffbd0) at /usr/include/c++/7/mutex:672
#26 0x00007ffe9f8e8ed3 in void std::call_once<void (std::__future_base::_State_baseV2::*)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*>(std::once_flag&, void (std::__future_base::_State_baseV2::*&&)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*&&, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*&&, bool*&&)::{lambda()#2}::operator()() const (__closure=0x0) at /usr/include/c++/7/mutex:677
#27 0x00007ffe9f8e8ee4 in void std::call_once<void (std::__future_base::_State_baseV2::*)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*>(std::once_flag&, void (std::__future_base::_State_baseV2::*&&)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*&&, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*&&, bool*&&)::{lambda()#2}::_FUN()
    () at /usr/include/c++/7/mutex:677
#28 0x00007ffff7bc5827 in __pthread_once_slow (once_control=0x55555759b0c8, init_routine=0x7ffe998968a0 <__once_proxy>) at pthread_once.c:116
#29 0x00007ffe9f8e2ffe in __gthread_once (__once=0x55555759b0c8, __func=0x7ffe998968a0 <__once_proxy>) at /usr/include/x86_64-linux-gnu/c++/7/bits/gthr-default.h:699
#30 0x00007ffe9f8e8f9d in std::call_once<void (std::__future_base::_State_baseV2::*)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*>(std::once_flag&, void (std::__future_base::_State_baseV2::*&&)(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*), std::__future_base::_State_baseV2*&&, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*&&, bool*&&) (__once=..., __f=
    @0x7fff6b4ffc90: (void (std::__future_base::_State_baseV2::*)(std::__future_base::_State_baseV2 * const, std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter>()> *, bool *)) 0x7ffe9f8e898c <std::__future_base::_State_baseV2::_M_do_set(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>*, bool*)>) at /usr/include/c++/7/mutex:684
#31 0x00007ffe9f8e8564 in std::__future_base::_State_baseV2::_M_set_result(std::function<std::unique_ptr<std::__future_base::_Result_base, std::__future_base::_Result_base::_Deleter> ()>, bool) (this=0x55555759b0b0, __res=..., __ignore_failure=false) at /usr/include/c++/7/future:401
#32 0x00007ffe9f8e604f in std::__future_base::_Task_state<tvm::support::parallel_for(int, int, const std::function<void(int)>&, int, tvm::support::PartitionerFuncType)::<lambda(const std::vector<int, std::allocator<int> >&, const std::function<void(int)>&)>, std::allocator<int>, void(const std::vector<int, std::allocator<int> >&, const std::function<void(int)>&)>::_M_run(const std::vector<int, std::allocator<int> > &, const std::function<void(int)> &) (this=0x55555759b0b0, __args#0=std::vector of length 1, capacity 1 = {...}, __args#1=...)
    at /usr/include/c++/7/future:1423
#33 0x00007ffe9f8ef015 in std::packaged_task<void (std::vector<int, std::allocator<int> > const&, std::function<void (int)> const&)>::operator()(std::vector<int, std::allocator<int> > const&, std::function<void (int)> const&) (this=0x5555575b6dc0, __args#0=std::vector of length 1, capacity 1 = {...}, __args#1=...) at /usr/include/c++/7/future:1556
#34 0x00007ffe9f8ee82e in std::__invoke_impl<void, std::packaged_task<void (std::vector<int, std::allocator<int> > const&, std::function<void (int)> const&)>, std::vector<int, std::allocator<int> >, std::function<void (int)> >(std::__invoke_other, std::packaged_task<void (std::vector<int, std::allocator<int> > const&, std::function<void (int)> const&)>&&, std::vector<int, std::allocator<int> >&&, std::function<void (int)>&&) (__f=...) at /usr/include/c++/7/bits/invoke.h:60
#35 0x00007ffe9f8edb61 in std::__invoke<std::packaged_task<void (std::vector<int, std::allocator<int> > const&, std::function<void (int)> const&)>, std::vector<int, std::allocator<int> >, std::function<void (int)> >(std::packaged_task<void (std::vector<int, std::allocator<int> > const&, std::function<void (int)> const&)>&&, std::vector<int, std::allocator<int> >&&, std::function<void (int)>&&) (__fn=...) at /usr/include/c++/7/bits/invoke.h:95
#36 0x00007ffe9f8eff11 in std::thread::_Invoker<std::tuple<std::packaged_task<void (std::vector<int, std::allocator<int> > const&, std::function<void (int)> const&)>, std::vector<int, std::allocator<int> >, std::function<void (int)> > >::_M_invoke<0ul, 1ul, 2ul>(std::_Index_tuple<0ul, 1ul, 2ul>) (this=0x5555575b6d88) at /usr/include/c++/7/thread:234
#37 0x00007ffe9f8efe2e in std::thread::_Invoker<std::tuple<std::packaged_task<void (std::vector<int, std::allocator<int> > const&, std::function<void (int)> const&)>, std::vector<int, std::allocator<int> >, std::function<void (int)> > >::operator()() (this=0x5555575b6d88) at /usr/include/c++/7/thread:243
#38 0x00007ffe9f8efdb6 in std::thread::_State_impl<std::thread::_Invoker<std::tuple<std::packaged_task<void (std::vector<int, std::allocator<int> > const&, std::function<void (int)> const&)>, std::vector<int, std::allocator<int> >, std::function<void (int)> > > >::_M_run() (this=0x5555575b6d80) at /usr/include/c++/7/thread:186
#39 0x00007ffe998976df in ?? () from /usr/lib/x86_64-linux-gnu/libstdc++.so.6
#40 0x00007ffff7bbd6db in start_thread (arg=0x7fff6b500700) at pthread_create.c:463
#41 0x00007ffff78e6a3f in clone () at ../sysdeps/unix/sysv/linux/x86_64/clone.S:95


### Python的stack
  /home/xiachunwei/Software/anaconda3/lib/python3.7/bdb.py(585)run()
-> exec(cmd, globals, locals)
  <string>(1)<module>()
  /home/xiachunwei/Software/tensor-compiler/src/itvm/learn_tvm/test_conv2d_relu_2branches.py(58)<module>()
-> test_conv2d_relu_2way()
  /home/xiachunwei/Software/tensor-compiler/src/itvm/learn_tvm/test_conv2d_relu_2branches.py(42)test_conv2d_relu_2way()
-> lib = relay.build(mod, target, params=params)
  /home2/xiachunwei/Software/tvm/python/tvm/relay/build_module.py(428)build()
-> mod=ir_mod, target=target, params=params, executor=executor, mod_name=mod_name
  /home2/xiachunwei/Software/tvm/python/tvm/relay/build_module.py(231)build()
-> tuner.tune(tune_option)
  /home2/xiachunwei/Software/tvm/python/tvm/auto_scheduler/task_scheduler.py(357)tune()
-> self._tune_task(idx)
  /home2/xiachunwei/Software/tvm/python/tvm/auto_scheduler/task_scheduler.py(453)_tune_task()
-> self.num_measures_per_round, self.measurer
  /home2/xiachunwei/Software/tvm/python/tvm/auto_scheduler/search_policy.py(119)continue_search_one_round()
-> return _ffi_api.SearchPolicyContinueSearchOneRound(self, num_measure, measurer)
  /home2/xiachunwei/Software/tvm/python/tvm/_ffi/_ctypes/packed_func.py(233)__call__()
-> ctypes.byref(ret_tcode),
  /home2/xiachunwei/Software/tvm/python/tvm/_ffi/_ctypes/packed_func.py(81)cfun()
-> rv = local_pyfunc(*pyargs)
  /home2/xiachunwei/Software/tvm/python/tvm/auto_scheduler/cost_model/cost_model.py(93)update_func()
-> self.update(inputs, results)
> /home2/xiachunwei/Software/tvm/python/tvm/auto_scheduler/cost_model/xgb_model.py(168)update()
-> self.inputs.extend(inputs)